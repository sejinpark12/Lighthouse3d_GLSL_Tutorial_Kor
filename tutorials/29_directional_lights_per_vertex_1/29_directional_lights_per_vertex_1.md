# GLSL Tutorial - 버텍스별 디렉셔널 라이트 1

| [목차](../../README.md) | 이전: [라이팅](./../28_lighting/28_lighting.md) | 다음: 버텍스 당 디렉셔널 라이트 2 |
| :---------------------- | -------------------: | --------------: |

반사광의 세기를 계산하기 위해, 렘버시안 분산 반사 모델(Lambertian diffuse reflection model)을 가정하여 빛으로 향하는 벡터(L)와 법선 벡터(N)사이의 코사인을 계산합니다. 코사인은 두 벡터의 내적(dot product)으로 계산할 수 있습니다:

<p align="center"><img src="../../images/29_directional_lights_per_vertex_1/lambert.png"  width="150"></p>

$$cos(\alpha) = \frac {L \cdot N}{|L| \times |N|}$$

그러므로 벡터 $L$ 과 벡터 $N$ 이 정규화되었다고 가정하면 이 두 벡터 사이의 내적으로 코사인을 계산할 수 있습니다. 그 다음 내적값에 오브젝트 머티리얼의 diffuse 계수 $K_d$ 를 곱합니다. 라이팅 방정식은 다음과 같습니다:

$$I = K_d \times cos(\alpha) = K_d \times (N \cdot L)$$

여러 벡터끼리의 계산은 반드시 동일한 공간에서 수행해야 합니다. 일반적으로 작업할 수 있는 공간은 여러 개입니다. 로컬 공간, 월드 공간, 카메라 공간은 벡터 연산을 하는 가장 일반적인 공간입니다. 라이팅과 관련하여, 이러한 공간에서 빛의 방향과 기타 속성들을 정의할 수 있습니다. 빛을 로컬 또는 모델 공간에서 정의하는 경우, 픽사의 룩소 주니어(Luxo Jr.)와 같은 책상 램프의 전구처럼 빛이 오브젝트에 붙어있는 것처럼 동작합니다. 빛을 월드 공간에서 정의하는 경우, 카메라나 오브젝트에 관련없이 3D 세계에 배치되는 것처럼 동작합니다. 빛을 카메라 공간에서 정의하는 경우, 빛은 카메라를 기준으로 정의됩니다(카메라 공간에서 카메라는 원점에 위치하고 Z축의 음수 방향을 바라봅니다). 카메라가 이동하면 빛은 항상 카메라를 따라갑니다. 광부 헬멧의 램프가 이런 빛의 예입니다. 광부의 눈을 카메라라고 생각해보세요.

카메라 공간은 일반적인 옵션입니다. 이것은 빛의 속성이 정의된 공간에서 카메라 공간으로의 사전 변환을 의미합니다.

| [목차](../../README.md) | 이전: [라이팅](./../28_lighting/28_lighting.md) | 다음: 버텍스 당 디렉셔널 라이트 2 |
| :---------------------- | -------------------: | --------------: |

## 출처

http://www.lighthouse3d.com/tutorials/glsl-tutorial/directional-lights/